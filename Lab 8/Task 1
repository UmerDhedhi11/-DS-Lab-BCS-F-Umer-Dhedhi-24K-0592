#include <iostream>
using namespace std;

class Node{
	public:
	    int data;
	    Node* left;
	    Node* right;
	    Node(int val){
	        data = val;
	        left = right = NULL;
	    }
};

class BST{
	private:
	    Node* insert(Node* root, int val) {
	        if(root == NULL){
	            return new Node(val);
	        }
	        if(val < root->data){
	            root->left = insert(root->left, val);
	        }
	        else if(val > root->data){
	            root->right = insert(root->right, val);
	        }
	        return root;
	    }
	    void inorder(Node* root){
	        if (root == NULL){
				return;
			}
	        inorder(root->left);
	        cout << root->data << " ";
	        inorder(root->right);
	    }
	    Node* minValueNode(Node* node){
		    while(node->left){
		        node = node->left;
		    }
		    return node;
		}
		Node* remove(Node* node, int key){
		    if(!node){
				return NULL;
			}
		    if(key < node->data){
		        node->left = remove(node->left, key);
		    }
		    else if(key > node->data){
		        node->right = remove(node->right, key);
		    }
		    else{
		        if(!node->left){
		            Node* temp = node->right;
		            delete node;
		            return temp;
		        }
		        else if(!node->right){
		            Node* temp = node->left;
		            delete node;
		            return temp;
		        }
		        Node* temp = minValueNode(node->right);
		        node->data = temp->data;
		        node->right = remove(node->right, temp->data);
		    }
		    return node;
		}
	    Node* search(Node* root, int key){
	        if(root == NULL || root->data == key){
	            return root;
	        }
	        if(key < root->data){
	            return search(root->left, key);
	        }
			else{
	            return search(root->right, key);
	    	}
		}
	public:
	    Node* root;
	    BST(){
	        root = NULL;
	    }
	    void insertValue(int val){
	        root = insert(root, val);
	    }
	    void display(){
	        cout << "Inorder Traversal: ";
	        inorder(root);
	        cout << endl;
	    }
	    void removeValue(int key){
	        root = remove(root, key);
	    }
	    void searchValue(int key){
	        Node* result = search(root, key);
	        if (result){
	            cout << key << " found in BST." << endl;
	        }
			else{	
	            cout << key << " not found in BST." << endl;
	    	}
		}
};

int main(){
    BST tree;
    tree.insertValue(50);
    tree.insertValue(30);
    tree.insertValue(20);
    tree.insertValue(40);
    tree.insertValue(70);
    tree.insertValue(60);
    tree.insertValue(80);
    tree.display();
    tree.removeValue(40);
    tree.searchValue(40);
    tree.display();
    return 0;
}
