#include <iostream>
using namespace std;

int main(){
    int d, i, j;
    cout << "Enter number of departments: ";
    cin >> d;
    int* sizes = new int[d];
    int** salaries = new int*[d];
    for(i=0;i<d;i++){
        cout << "Enter number of employees in department " << i+1 << ": ";
        cin >> sizes[i];
        salaries[i] = new int[sizes[i]];
        for(j=0;j<sizes[i];j++){
            cout << "Enter salary of employee " << j+1 << " in dept " << i+1 << ": ";
            cin >> salaries[i][j];
        }
    }
    cout << "\nHighest salary in each department:" << endl;
    for(i=0;i<d;i++){
        int maxSalary = salaries[i][0];
        for(j=1;j<sizes[i];j++){
            if(salaries[i][j] > maxSalary)
                maxSalary = salaries[i][j];
        }
        cout << "Dept " << i+1 << ": " << maxSalary << endl;
    }
    int bestDept = 0;
    double bestAvg = 0.0;
    for(i=0;i<d;i++){
        int sum = 0;
        for(j=0;j<sizes[i];j++){
            sum += salaries[i][j];
        }
        double avg = (double)sum / sizes[i];
        if(avg > bestAvg){
            bestAvg = avg;
            bestDept = i;
        }
    }
    cout << "\nDepartment with highest average salary: " << bestDept+1 << " (Average = " << bestAvg << ")" << endl;
    for(int i=0;i<d;i++){
        delete[] salaries[i];
    }
    delete[] salaries;
    delete[] sizes;
    return 0;
}
